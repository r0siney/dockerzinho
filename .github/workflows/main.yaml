name: CI

on: [push]

jobs:
  dkr_linux:
    runs-on: ubuntu-latest
    steps:
    - name: docker
      run: |
        lscpu
  dkr_windows:
    runs-on: windows-latest
    steps:
      - name: check hyper v
        shell: pwsh
        run: |
          Get-ComputerInfo -property "HyperV*"
  # dkr_windows:
  #   runs-on: windows-latest
  #   steps:
  #   - uses: actions/checkout@v3
  #     with:
  #       fetch-depth: 2
  #   - name: docker
  #     run: |
  #       docker info
  #       # docker build -t test/windows .
  #       # docker run test/windows cmd.exe /s /c echo "ok windows"
  #       & 'C:\Program Files\Docker\Docker\DockerCli.exe' -SwitchDaemon
  #       docker info
  #       .\dockercli.exe -SwitchLinuxEngine
  #       docker run alpine apk --version
  dkr_macos:
    runs-on: macos-12
    steps:
    - name: docker
      run: |
        brew install docker colima
        colima start
        docker --version
        docker run hello-world

  # dkr_macos:
  #   runs-on: macos-12
  #   steps:
  #   - run: |
  #       sysctl -a